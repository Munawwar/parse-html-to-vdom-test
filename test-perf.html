<!DOCTYPE html>
<html>
    <head>
        <script src="./parse-html-to-vdom.js"></script>
        <style>
            body {
                font-family: system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
            }
        </style>
    </head>
    <body>
        <script>
            function toDom(html) {
                var template = document.createElement('template');
                template.innerHTML = html;
                return template.content;
            }
            // testing parsing a table.
            // the parser gets slower with increased (v)dom nodes compared to native dom parsing
            // table html taken from react-table.tanstack.com
            var aTemplate = `
                <div role="table" class="table"><div><div role="row" class="tr" style="display: flex; width: 860px;"><div colspan="1" role="columnheader" class="th" style="display: inline-block; box-sizing: border-box; width: 150px;">&nbsp;</div><div colspan="2" role="columnheader" class="th" style="display: inline-block; box-sizing: border-box; width: 300px;">Name</div><div colspan="4" role="columnheader" class="th" style="display: inline-block; box-sizing: border-box; width: 410px;">Info</div></div><div role="row" class="tr" style="display: flex; width: 860px;"><div colspan="1" role="columnheader" class="th" style="display: inline-block; box-sizing: border-box; width: 150px;">Row Index</div><div colspan="1" role="columnheader" class="th" style="display: inline-block; box-sizing: border-box; width: 150px;">First Name</div><div colspan="1" role="columnheader" class="th" style="display: inline-block; box-sizing: border-box; width: 150px;">Last Name</div><div colspan="1" role="columnheader" class="th" style="display: inline-block; box-sizing: border-box; width: 50px;">Age</div><div colspan="1" role="columnheader" class="th" style="display: inline-block; box-sizing: border-box; width: 60px;">Visits</div><div colspan="1" role="columnheader" class="th" style="display: inline-block; box-sizing: border-box; width: 150px;">Status</div><div colspan="1" role="columnheader" class="th" style="display: inline-block; box-sizing: border-box; width: 150px;">Profile Progress</div></div></div><div role="rowgroup"><div style="position: relative; height: 400px; width: 860px; overflow: auto; will-change: transform; direction: ltr;"><div style="height: 3.5e+06px; width: 100%;"><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 0px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">0</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">motion</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">waves</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">26</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">21</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">complicated</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">11</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 35px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">1</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">wheel</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">message</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">29</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">95</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">complicated</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">9</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 70px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">2</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">variety</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">earth</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">9</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">13</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">relationship</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">91</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 105px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">3</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">plot</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">activity</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">2</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">45</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">complicated</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">94</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 140px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">4</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">efficiency</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">teacher</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">1</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">80</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">single</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">9</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 175px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">5</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">finger</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">toe</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">17</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">61</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">complicated</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">27</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 210px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">6</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">pets</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">truth</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">7</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">20</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">single</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">6</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 245px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">7</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">promotion</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">person</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">28</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">51</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">complicated</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">45</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 280px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">8</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">cake</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">context</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">1</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">27</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">complicated</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">46</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 315px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">9</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">robin</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">literature</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">27</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">86</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">single</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">74</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 350px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">10</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">meal</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">digestion</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">26</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">96</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">relationship</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">62</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 385px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">11</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">skirt</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">wave</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">8</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">88</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">complicated</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">24</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 420px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">12</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">refrigerator</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">photo</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">27</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">31</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">complicated</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">45</div></div><div role="row" class="tr" style="display: flex; width: 100%; position: absolute; left: 0px; top: 455px; height: 35px;"><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">13</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">outcome</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">quartz</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 50px;">26</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 60px;">0</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">complicated</div><div role="cell" class="td" style="display: inline-block; box-sizing: border-box; width: 150px;">68</div></div></div></div></div></div>
            `;
            
            var output = 'html string size = ' + aTemplate.length + ' characters<br>';
            var start;
            start = window.performance.now();
            toVdom(aTemplate);
            var vdomTime = (window.performance.now() - start);
            output += 'toVDom ' + vdomTime.toFixed(2) + 'ms<br>';
            
            start = window.performance.now();
            toDom(aTemplate);
            var domTime =  (window.performance.now() - start);
            output += 'toDom ' + domTime.toFixed(2) + 'ms<br>vdom/dom time ratio = ' + (vdomTime/domTime).toFixed(2);
            document.write(output);
        </script>
    </body>
</html>
